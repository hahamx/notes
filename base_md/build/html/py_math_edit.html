
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>函数 &#8212; nice_notes 0.0.1 文档</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="">
<span id="id1"></span><h1>函数<a class="headerlink" href="#" title="永久链接至标题">¶</a></h1>
<div class="section" id="">
<span id="id2"></span><h2>函数概述,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">内涵</span>
    <span class="n">结构化</span> <span class="ow">or</span> <span class="n">过程化</span><span class="p">,</span> <span class="n">对程序逻辑进行</span>  
    <span class="n">基本单元</span>  <span class="n">面向过程程序设计</span> 
<span class="n">定义</span>
    <span class="k">def</span>
    <span class="nf">return</span>
        <span class="n">随时返回</span> <span class="n">函数结果</span>
        <span class="n">返回形式</span>
            <span class="n">无返回值</span>
               <span class="n">方法</span><span class="p">,</span><span class="n">不用return</span>
               <span class="n">仅return</span> <span class="p">,</span> <span class="n">没有返回值</span>
            <span class="n">返回</span> <span class="kc">None</span>
            <span class="n">一个值</span><span class="o">/</span><span class="n">对象</span>
                <span class="n">返回多个对象</span><span class="p">,</span><span class="n">默认为元组返回</span>
            <span class="n">规律</span><span class="p">:</span>
                <span class="n">运行时对象</span>
                <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span>
                <span class="mi">1</span><span class="p">,</span> <span class="n">Obeject</span>
                <span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="nb">tuple</span>
        <span class="n">执行到return</span><span class="p">,</span> <span class="n">停止执行函数内余下的语句</span>
    <span class="n">空函数</span>  
       <span class="k">pass</span>  <span class="n">占位符</span><span class="p">,</span><span class="n">让代码先运行</span><span class="p">,</span><span class="n">通常在初始定义类时使用</span>
<span class="n">补充</span>
    <span class="n">函数的引用</span>
        <span class="n">引用</span>
        <span class="n">别名变量</span>
            <span class="n">函数名</span>    <span class="n">本质即变量</span>
            <span class="n">可用多个别名</span>    <span class="n">对同一函数对象的引用</span>
    <span class="n">函数的调用</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">()</span>
        <span class="n">新建函数对象</span>
        <span class="n">赋值给foo</span>
    <span class="n">bar</span> <span class="o">=</span> <span class="n">foo</span> <span class="n">bar</span> <span class="p">[</span><span class="n">引用</span><span class="p">]</span> <span class="n">同一函数对象</span>
    <span class="n">bar</span><span class="p">()</span> <span class="n">同</span> <span class="n">foo</span><span class="p">()</span> <span class="p">[</span><span class="n">调用</span><span class="p">]</span> <span class="n">函数</span><span class="p">,</span><span class="n">会返回函数的return值</span><span class="p">(</span><span class="n">如果有</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id3"></span><h2>装饰器,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="decorator">
<span id="decorator"></span><h3>Decorator<a class="headerlink" href="#decorator" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">在代码运行期间</span><span class="p">,</span><span class="n">给函数动态增加功能</span>
   <span class="n">本质</span> <span class="n">一个返回函数的高阶函数</span>
   <span class="n">内涵</span> 
       <span class="n">输入参数</span><span class="p">,</span> <span class="n">返回值</span>
       <span class="n">不改变函数原值</span><span class="p">,</span><span class="n">仅添加功能</span>
   <span class="n">形式</span>
      <span class="nd">@Decorator</span>
      <span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
   <span class="n">应用</span>
      <span class="n">引入日志</span>
      <span class="n">增加计时逻辑</span><span class="p">,</span> <span class="n">检测性能</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id4"></span><h3>多个装饰器堆叠<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@deco2</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="nd">@deco1</span>
    <span class="k">def</span> <span class="nf">func</span><span class="p">()</span>
    <span class="n">等价于</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
            <span class="n">func</span> <span class="o">=</span> <span class="n">deco2</span><span class="p">(</span><span class="n">deco_args</span><span class="p">)(</span><span class="n">deco1</span><span class="p">(</span><span class="n">func</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id5"></span><h3>定义装饰器<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">log</span><span class="p">()</span>
       <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">%</span><span class="n">func__name__</span><span class="p">)</span>
           <span class="k">return</span> <span class="n">func</span>
       <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id6"></span><h3>使用装饰器<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nd">@log放到now</span><span class="p">()</span><span class="n">函数定义处</span>
    <span class="n">相当于执行了语句</span> <span class="n">now</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
    <span class="nd">@log</span>
    <span class="k">def</span> <span class="nf">now</span><span class="p">():</span>
       <span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id7"></span><h2>参数,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="">
<span id="id8"></span><h3>完整语法<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="section" id="">
<span id="id9"></span><h4>参数定义的顺序<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">传递方式</span><span class="p">:</span><span class="n">位置</span><span class="o">--</span><span class="n">关键字</span><span class="o">--</span><span class="n">包裹位置</span><span class="o">--</span><span class="n">包裹关键字</span>
        <span class="n">参数类型</span><span class="p">:</span><span class="n">必选</span><span class="o">--</span><span class="n">默认</span><span class="o">--</span><span class="n">可变</span><span class="o">--</span><span class="n">关键字</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id10"></span><h3>参数传递方式<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="section" id="">
<span id="id11"></span><h4>位置传递:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">位置参数</span><span class="p">,</span><span class="n">必填参数</span>
        <span class="n">默认参数</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id12"></span><h4>关键字传递<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">对有默认值的参数传递</span>
        <span class="n">无序</span><span class="p">,</span><span class="n">提供参数名传递</span>
        <span class="n">按位置传递</span><span class="p">,</span><span class="n">不提供参数名</span>
        <span class="n">参数一般指向不可变的值</span><span class="p">,</span> <span class="n">如def</span> <span class="n">A</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="n">好于</span> <span class="k">def</span> <span class="nf">A</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="p">[])</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id13"></span><h4>包裹传递<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">目的</span><span class="p">:</span><span class="n">传入不定个数的参数</span><span class="p">,</span> <span class="n">无关键字元组</span><span class="p">,</span> <span class="n">有关键字</span> <span class="n">字典</span>
</pre></div>
</div>
<div class="section" id="">
<span id="id14"></span><h5>包裹位置参数<a class="headerlink" href="#" title="永久链接至标题">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">定义函数</span>
                <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">*</span><span class="n">arg_name</span><span class="p">):</span><span class="n">封装成元组任意数量的位置参数</span>
                <span class="n">arg_name</span> <span class="n">搜集所有参数</span><span class="p">,</span><span class="n">根据位置合并成一个元组</span>
            <span class="n">使用函数</span>
                <span class="n">先组装list</span><span class="o">/</span><span class="n">tuple再传入如</span><span class="p">:</span><span class="n">a</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">*</span><span class="n">arg_name</span><span class="p">)</span>
                <span class="n">直接传入</span><span class="p">:</span><span class="n">如</span><span class="p">,</span> <span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id15"></span><h5>包裹关键字传递<a class="headerlink" href="#" title="永久链接至标题">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">字典</span><span class="p">,</span><span class="n">关键字参数</span>
            <span class="n">定义函数</span>
                <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">**</span><span class="n">dict_name</span><span class="p">)</span>
                <span class="n">搜集所有参数</span><span class="p">,</span><span class="n">任意数量封装成字典</span><span class="p">,</span><span class="n">允许参数缺失</span><span class="p">,</span><span class="n">无序</span>
            <span class="n">使用函数</span>
                <span class="n">先组装dict再传入</span><span class="p">,</span><span class="n">如</span><span class="p">:</span> <span class="o">**</span><span class="nb">dict</span><span class="p">,</span> <span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v1</span><span class="p">,</span><span class="n">k2</span><span class="p">:</span><span class="n">v2</span><span class="p">},</span> <span class="n">func</span><span class="p">(</span><span class="o">**</span><span class="n">a</span><span class="p">)</span>
                <span class="n">直接传入多个key</span><span class="p">,</span> <span class="n">如</span><span class="p">:</span> <span class="n">func</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id16"></span><h5>解包裹<a class="headerlink" href="#" title="永久链接至标题">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>            <span class="n">目的</span><span class="p">:</span>
                <span class="n">如</span><span class="p">:</span><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kw</span><span class="p">)</span>
                <span class="mi">1</span><span class="p">,</span> <span class="n">先拆解</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="n">按顺序传入</span><span class="p">:</span><span class="n">必选参数</span><span class="o">--&gt;</span><span class="n">默认参数</span><span class="o">--&gt;</span><span class="n">可变参数</span><span class="p">(</span><span class="n">若还有价值</span><span class="p">)</span>
                <span class="mi">2</span><span class="p">,</span> <span class="n">再拆解</span> <span class="o">**</span><span class="n">kw</span><span class="p">,</span> <span class="n">关键字参数传递</span>
                <span class="mi">3</span><span class="p">,</span> <span class="n">单个参数</span><span class="p">,</span><span class="n">用来拆解list</span><span class="o">/</span><span class="nb">tuple</span> <span class="o">&amp;</span> <span class="nb">dict</span>

            <span class="n">方法</span><span class="p">:</span>
                <span class="n">对应一个位置参数</span><span class="p">,</span><span class="n">tuple的每一个元素</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
                <span class="n">作为关键字参数</span><span class="p">,</span> <span class="n">字典的每个键值对</span>
                <span class="n">包裹</span><span class="p">,</span><span class="n">定义函数时使用</span><span class="p">,</span>
                <span class="n">解包裹</span><span class="p">,</span><span class="n">调用函数时使用</span><span class="p">,</span><span class="n">两者相对独立</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id17"></span><h3>处理参数传递的两种形式<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="section" id="">
<span id="id18"></span><h4>值传递<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">参数</span><span class="p">:</span> <span class="n">基本数据类型</span>
        <span class="n">含义</span><span class="p">:</span> <span class="n">复制一个新变量</span><span class="p">,</span><span class="n">不影响原有变量</span><span class="p">,</span> <span class="n">函数在内存中</span><span class="p">,</span><span class="n">变量传递给函数后</span><span class="p">,</span><span class="n">指向新的引用对象</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id19"></span><h4>指针传递<a class="headerlink" href="#" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        <span class="n">参数</span><span class="p">:</span> <span class="nb">list</span>
        <span class="n">含义</span><span class="p">:</span> <span class="n">变量传递给函数的是指针</span><span class="p">,</span><span class="n">指针指向序列在内存中的位置</span>
              <span class="n">函数对list的操作</span><span class="p">,</span><span class="n">在原有内存中进行</span><span class="p">,</span><span class="n">从而影响原有变量</span>
        <span class="n">原引用对象被改变</span>
</pre></div>
</div>
</div>
<div class="section" id="isinstance">
<span id="isinstance"></span><h4>可先检查参数类型  isinstance()<a class="headerlink" href="#isinstance" title="永久链接至标题">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="">
<span id="id20"></span><h2>函数式编程,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="">
<span id="id21"></span><h3>释义<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">编程范式</span><span class="p">,</span><span class="n">如何编写程序的方法论</span><span class="p">,</span> <span class="n">面向对象</span><span class="p">,</span> <span class="n">面向过程</span>
    <span class="n">属于结构化编程</span><span class="p">,</span><span class="n">采用子程序</span><span class="p">,</span><span class="n">程序代码区块</span><span class="p">,</span> <span class="k">for</span><span class="o">/</span><span class="k">while</span> <span class="n">循环</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id22"></span><h3>思想:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">尽量把运算过程写成一系列嵌套的函数调用</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id23"></span><h3>特点:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">允许把函数作为参数</span><span class="p">,</span><span class="n">传入另一个函数</span><span class="p">,</span><span class="n">返回一个函数</span>
</pre></div>
</div>
</div>
<div class="section" id="python">
<span id="python"></span><h3>Python并非函数式编程语言<a class="headerlink" href="#python" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">Python支持一些函数式</span>
        <span class="n">匿名函数</span><span class="p">,</span> <span class="n">BIF</span><span class="p">,</span><span class="n">偏函数</span>
    <span class="n">本质是通过封装对象实现函数式编程</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lambda">
<span id="lambda"></span><h2>匿名函数 lambda,<a class="headerlink" href="#lambda" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">不需要专门声明</span>
<span class="n">表达式</span><span class="p">:</span> <span class="k">lambda</span><span class="p">[</span><span class="n">arg1</span><span class="p">[</span><span class="n">arg2</span><span class="o">...</span><span class="n">argN</span><span class="p">]]:</span><span class="n">expression</span>
<span class="n">同一行</span><span class="p">:</span>
    <span class="n">定义体</span> <span class="o">+</span> <span class="n">声明</span><span class="p">,</span><span class="n">不用写return</span>
<span class="n">使用</span><span class="p">:</span>
    <span class="n">方式一</span><span class="p">:</span> 
       <span class="n">赋值给变量</span><span class="p">:</span> <span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
           <span class="n">含义</span><span class="p">:</span> <span class="n">lambda生成一个函数对象</span><span class="p">,</span><span class="n">参数为x</span><span class="p">,</span> <span class="n">y返回值为x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">函数对象赋给func</span>
       <span class="n">使用变量来调用该函数</span> <span class="n">func</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>  <span class="n">func的调用与正常函数无异</span>
    <span class="n">方式二</span><span class="p">:</span>
       <span class="n">作为返回值返回</span><span class="p">:</span>
           <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
               <span class="k">return</span> <span class="k">lambda</span><span class="p">:</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id24"></span><h2>高阶函数 ,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">定义</span><span class="p">:</span><span class="n">一个函数接收另一个函数作为</span><span class="p">[</span><span class="n">参数</span><span class="p">],</span> <span class="n">与lambda完美匹配</span>
<span class="n">fliter</span><span class="p">()</span>
    <span class="n">将函数对象依次作用与每一个元素</span><span class="p">,</span><span class="n">根据返回值True</span><span class="o">/</span><span class="kc">False</span> <span class="n">决定保留</span><span class="o">/</span><span class="n">丢弃元素</span>
    <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span><span class="n">n</span><span class="p">:</span><span class="n">n</span><span class="o">%</span><span class="mi">2</span><span class="p">,</span> <span class="n">allNum</span><span class="p">)</span>
    <span class="n">等同与列表解析</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">allNums</span> <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">map</span><span class="p">()</span>
    <span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">seq1</span><span class="p">,[</span><span class="o">..</span><span class="n">seqN</span><span class="p">])</span>
        <span class="n">将函数对象</span><span class="p">,</span><span class="n">依次作用于每一个元素</span>
        <span class="n">每次作用结果存储在返回在list中</span>
        <span class="n">可有N个列表</span><span class="p">,</span><span class="n">对应函数的N个参数</span>
    <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="n">等价于</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span>
    <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>  <span class="n">等价于</span><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span>
    <span class="nb">map</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>  <span class="n">等价于</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)],</span> <span class="n">类似思想</span><span class="p">:</span><span class="nb">zip</span><span class="p">()</span>
<span class="n">reduce</span><span class="p">()</span> <span class="n">返回一个值</span>
    <span class="n">导入</span><span class="p">:</span> <span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">reduce</span>
    <span class="n">reduce</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">seq</span><span class="p">(,</span> <span class="n">init</span><span class="p">))</span> <span class="c1">#累加作用</span>
        <span class="n">func</span> <span class="n">二元函数</span><span class="p">,</span><span class="n">接收两个参数</span><span class="p">,</span> <span class="n">前一次的返回值和运算结果</span><span class="p">,</span>
            <span class="n">序列下一个元素</span>
        <span class="n">init</span> <span class="n">初始化器</span>
            <span class="n">若设定</span> <span class="n">第一次计算为</span> <span class="n">初始化器</span><span class="o">&amp;</span><span class="n">第一个序列元素</span>
    <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span>  <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)),</span> <span class="n">等价于</span> <span class="p">(((</span><span class="mi">0</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mi">4</span>
        <span class="n">reduce</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">等价于</span> <span class="n">func</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id25"></span><h2>偏函数 ,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="">
<span id="id26"></span><h3>概述:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="n">偏函数应用</span> <span class="n">PFA</span><span class="p">,</span> <span class="n">Partital</span> <span class="n">funcation</span> <span class="n">application</span>
       <span class="n">结合</span><span class="p">,</span> <span class="n">函数式编程</span><span class="p">,</span><span class="n">默认参数</span><span class="p">,</span><span class="n">可变参数</span>
       <span class="n">固定某些参数的默认值</span><span class="p">,</span><span class="n">返回一个新的函数以供调用</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id27"></span><h3>应用:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>       <span class="n">场景</span><span class="p">:</span> 
           <span class="mi">1</span><span class="p">,</span> <span class="n">函数参数太多</span><span class="p">,</span><span class="n">需要简化</span>
           <span class="mi">2</span><span class="p">,</span> <span class="n">创建一个新的函数</span><span class="p">,</span><span class="n">以固化源函数的部分参数</span>
       <span class="n">模块</span><span class="p">:</span>
           <span class="n">functools</span>
       <span class="n">创建</span><span class="p">:</span>
           <span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">partial</span>
           <span class="n">partial</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
           <span class="n">固定位置参数</span><span class="p">:</span>
               <span class="c1"># add1(x) == add(1, x)</span>
               <span class="n">add1</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
               <span class="c1"># int new == int(2, base)</span>
               <span class="n">int_new</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
           <span class="n">重设关键字参数</span>
               <span class="n">int2</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
               <span class="mi">18</span><span class="p">,</span> <span class="n">int2</span><span class="p">(</span><span class="s2">&quot;10010&quot;</span><span class="p">)</span>
               <span class="n">int2</span><span class="p">(</span><span class="s2">&quot;10010&quot;</span><span class="p">,</span> <span class="n">base</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id28"></span><h2>变量作用域,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">标识符的作用域</span><span class="p">:</span> <span class="n">在程序里声明可应用范围</span>
</pre></div>
</div>
<div class="section" id="">
<span id="id29"></span><h3>全局变量<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">函数内定义</span><span class="p">,</span><span class="n">函数内可引用</span><span class="p">,</span> <span class="n">除非声明</span> <span class="k">global</span><span class="p">;</span> 
    <span class="o">**</span> <span class="n">除非删除</span><span class="p">,</span><span class="n">否则存活到脚本允许结束</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id30"></span><h3>局部变量<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">函数定义</span><span class="p">,</span><span class="n">只允许函数内访问</span>
    <span class="n">存在与否取决与函数的运行状态</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id31"></span><h3>变量搜索顺序<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">局部作用域</span><span class="o">--&gt;</span><span class="n">全局</span>  <span class="n">由小到大的顺序</span>
    <span class="n">全局变量可能</span> <span class="n">隐藏局部变量</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id32"></span><h2>返回回调函数,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="">
<span id="id33"></span><h3>特点:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">函数作为结果值返回</span>
    <span class="n">即使参数每次不一样</span><span class="p">,</span> <span class="n">每次调用都会返回一个新的函数</span><span class="p">,</span> <span class="n">互不影响调用结果</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id34"></span><h3>闭包程序结构:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">内部函数</span> <span class="n">引用外部函数的参数和局部变量</span>
    <span class="n">调用外部函数</span><span class="p">,</span> <span class="n">返回已保存</span><span class="p">[</span><span class="n">参数和变量</span><span class="p">]</span><span class="n">的内部函数</span>
</pre></div>
</div>
</div>
<div class="section" id="">
<span id="id35"></span><h3>重点:<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">返回闭包时</span><span class="p">,</span><span class="n">返回函数不要引用</span> <span class="n">任何循环变量</span> <span class="n">或</span> <span class="n">后续会发生变化的变量</span><span class="o">.</span>
    <span class="n">如果一定要引用</span> <span class="n">循环变量</span><span class="p">,</span> <span class="n">再创建一个函数</span><span class="p">,</span><span class="n">用该函数的参数绑定循环变量当前的值</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="">
<span id="id36"></span><h2>递归函数,<a class="headerlink" href="#" title="永久链接至标题">¶</a></h2>
<div class="section" id="">
<span id="id37"></span><h3>函数内部调用[自身]<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="">
<span id="id38"></span><h3>防止[栈溢出]<a class="headerlink" href="#" title="永久链接至标题">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">原因</span><span class="p">:</span> <span class="n">每进入函数调用</span><span class="p">,</span> <span class="n">栈就会加一层栈帧</span>
         <span class="n">每当函数返回时</span><span class="p">,</span><span class="n">栈就会减一层栈帧</span>
         <span class="n">递归调用次数过多会导致栈溢出</span>
    <span class="n">解决</span><span class="p">:</span>
        <span class="n">尾递归优化</span><span class="p">,</span> <span class="n">本质上效果等同与循环</span>
        <span class="n">函数返回时</span><span class="p">,</span><span class="n">调用自身本身</span>
        <span class="k">return</span> <span class="n">不能包含表达式</span>
        <span class="n">缺陷</span>
            <span class="n">若没有针对尾递归继续做优化</span><span class="p">,</span><span class="n">任何递归调用函数都存在</span><span class="p">[</span><span class="n">栈溢出</span><span class="p">]</span><span class="n">的问题</span> 
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">內容目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">函数</a><ul>
<li><a class="reference internal" href="#">函数概述,</a></li>
<li><a class="reference internal" href="#">装饰器,</a><ul>
<li><a class="reference internal" href="#decorator">Decorator</a></li>
<li><a class="reference internal" href="#">多个装饰器堆叠</a></li>
<li><a class="reference internal" href="#">定义装饰器</a></li>
<li><a class="reference internal" href="#">使用装饰器</a></li>
</ul>
</li>
<li><a class="reference internal" href="#">参数,</a><ul>
<li><a class="reference internal" href="#">完整语法</a><ul>
<li><a class="reference internal" href="#">参数定义的顺序</a></li>
</ul>
</li>
<li><a class="reference internal" href="#">参数传递方式</a><ul>
<li><a class="reference internal" href="#">位置传递:</a></li>
<li><a class="reference internal" href="#">关键字传递</a></li>
<li><a class="reference internal" href="#">包裹传递</a><ul>
<li><a class="reference internal" href="#">包裹位置参数</a></li>
<li><a class="reference internal" href="#">包裹关键字传递</a></li>
<li><a class="reference internal" href="#">解包裹</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#">处理参数传递的两种形式</a><ul>
<li><a class="reference internal" href="#">值传递</a></li>
<li><a class="reference internal" href="#">指针传递</a></li>
<li><a class="reference internal" href="#isinstance">可先检查参数类型  isinstance()</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#">函数式编程,</a><ul>
<li><a class="reference internal" href="#">释义</a></li>
<li><a class="reference internal" href="#">思想:</a></li>
<li><a class="reference internal" href="#">特点:</a></li>
<li><a class="reference internal" href="#python">Python并非函数式编程语言</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lambda">匿名函数 lambda,</a></li>
<li><a class="reference internal" href="#">高阶函数 ,</a></li>
<li><a class="reference internal" href="#">偏函数 ,</a><ul>
<li><a class="reference internal" href="#">概述:</a></li>
<li><a class="reference internal" href="#">应用:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#">变量作用域,</a><ul>
<li><a class="reference internal" href="#">全局变量</a></li>
<li><a class="reference internal" href="#">局部变量</a></li>
<li><a class="reference internal" href="#">变量搜索顺序</a></li>
</ul>
</li>
<li><a class="reference internal" href="#">返回回调函数,</a><ul>
<li><a class="reference internal" href="#">特点:</a></li>
<li><a class="reference internal" href="#">闭包程序结构:</a></li>
<li><a class="reference internal" href="#">重点:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#">递归函数,</a><ul>
<li><a class="reference internal" href="#">函数内部调用[自身]</a></li>
<li><a class="reference internal" href="#">防止[栈溢出]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/py_math_edit.md.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="转向" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, zeus_dy.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/py_math_edit.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>